{% extends "base.html" %}

{% block title %}知识库设置 - iDOC{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
<style>
    body {
        background-color: #f8fafc;
        min-height: 100vh;
        font-family: 'Inter', sans-serif;
    }
    
    .settings-layout {
        display: flex;
        height: calc(100vh - 1rem);
        gap: 0;
    }
    
    .settings-sidebar {
        width: 280px;
        background: white;
        border-right: 1px solid #e2e8f0;
        display: flex;
        flex-direction: column;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    
    .settings-main {
        flex: 1;
        display: flex;
        flex-direction: column;
        background-color: #f8fafc;
    }
    
    .sidebar-header {
        padding: 2rem 1.5rem;
        border-bottom: 1px solid #e2e8f0;
        background: white;
    }
    
    .sidebar-title {
        font-size: 1.375rem;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 0.5rem;
    }
    
    .sidebar-subtitle {
        color: #64748b;
        font-size: 0.85rem;
        line-height: 1.5;
    }
    
    .settings-nav {
        flex: 1;
        padding: 1rem;
        overflow-y: auto;
    }
    
    .nav-section {
        margin-bottom: 2rem;
    }
    
    .nav-section-title {
        font-size: 0.75rem;
        font-weight: 600;
        color: #9ca3af;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 0.75rem;
        padding: 0 0.75rem;
    }
    
    .nav-item {
        display: block;
        width: 100%;
        padding: 0.875rem 0.75rem;
        margin-bottom: 0.25rem;
        background: transparent;
        border: none;
        border-radius: 6px;
        text-decoration: none;
        color: #64748b;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.2s ease;
        cursor: pointer;
        text-align: left;
    }
    
    .nav-item:hover {
        background-color: #f1f5f9;
        color: #374151;
        text-decoration: none;
    }
    
    .nav-item.active {
        background-color: #4f46e5;
        color: white;
    }
    
    .nav-item.active:hover {
        color: white;
    }
    
    .nav-item i {
        width: 18px;
        margin-right: 0.75rem;
        font-size: 0.875rem;
    }
    
    .main-header {
        background: white;
        padding: 2rem;
        border-bottom: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    
    .main-title {
        font-size: 1.875rem;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 0.5rem;
    }
    
    .main-subtitle {
        color: #64748b;
        font-size: 1rem;
    }
    
    .content-area {
        flex: 1;
        padding: 2rem;
        overflow-y: auto;
    }
    
    .content-section {
        display: none;
    }
    
    .content-section.active {
        display: block;
        animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .settings-card {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 1.5rem;
        border: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    
    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #f1f5f9;
    }
    
    .card-title {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin: 0;
    }
    
    .card-icon {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        background-color: #4f46e5;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
    }
    
    .card-name {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1e293b;
    }
    
    .card-actions {
        display: flex;
        gap: 0.75rem;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .stat-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        transition: all 0.2s ease;
    }
    
    .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .stat-title {
        font-size: 0.85rem;
        color: #64748b;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    
    .stat-icon {
        width: 32px;
        height: 32px;
        border-radius: 6px;
        background-color: #4f46e5;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
    }
    
    .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 0.5rem;
    }
    
    .stat-change {
        font-size: 0.8rem;
        color: #10b981;
        font-weight: 500;
    }
    
    .kb-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 1.5rem;
    }
    
    .kb-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        transition: all 0.2s ease;
    }
    
    .kb-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .kb-header {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .kb-icon {
        width: 44px;
        height: 44px;
        border-radius: 8px;
        background-color: #4f46e5;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.125rem;
        margin-right: 1rem;
    }
    
    .kb-info {
        flex: 1;
    }
    
    .kb-name {
        font-size: 1.125rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 0.25rem;
    }
    
    .kb-status {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    
    .kb-status.active {
        background-color: rgba(16, 185, 129, 0.1);
        color: #059669;
    }
    
    .kb-status.archived {
        background-color: rgba(107, 114, 128, 0.1);
        color: #6b7280;
    }
    
    .kb-meta {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        font-size: 0.8rem;
        color: #64748b;
    }
    
    .kb-actions {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }
    
    .kb-action {
        padding: 0.5rem 0.75rem;
        border: 1px solid #e2e8f0;
        background: white;
        border-radius: 6px;
        color: #64748b;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.8rem;
        text-decoration: none;
        font-weight: 500;
    }
    
    .kb-action:hover {
        border-color: #4f46e5;
        color: #4f46e5;
        text-decoration: none;
    }
    
    .kb-action.danger:hover {
        border-color: #ef4444;
        color: #ef4444;
        background-color: rgba(239, 68, 68, 0.05);
    }
    
    .user-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
    
    .user-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.5rem;
        background: #f8fafc;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
        transition: all 0.2s ease;
    }
    
    .user-item:hover {
        border-color: #4f46e5;
        box-shadow: 0 2px 8px rgba(79, 70, 229, 0.1);
    }
    
    .user-info {
        display: flex;
        align-items: center;
        gap: 1rem;
    }
    
    .user-avatar {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background-color: #4f46e5;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 1rem;
    }
    
    .user-details {
        flex: 1;
    }
    
    .user-name {
        font-size: 1rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 0.25rem;
    }
    
    .user-email {
        color: #64748b;
        font-size: 0.85rem;
    }
    
    .user-role {
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
        font-size: 0.7rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-left: 1rem;
    }
    
    .user-role.admin {
        background-color: rgba(79, 70, 229, 0.1);
        color: #4f46e5;
    }
    
    .user-role.editor {
        background-color: rgba(16, 185, 129, 0.1);
        color: #059669;
    }
    
    .user-role.viewer {
        background-color: rgba(107, 114, 128, 0.1);
        color: #6b7280;
    }
    
    .user-actions {
        display: flex;
        gap: 0.5rem;
    }
    
    .user-action {
        padding: 0.5rem;
        border: none;
        background: white;
        color: #64748b;
        cursor: pointer;
        border-radius: 6px;
        transition: all 0.2s ease;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .user-action:hover {
        background: #f1f5f9;
        color: #374151;
    }
    
    .user-action.danger:hover {
        background: #fef2f2;
        color: #ef4444;
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #374151;
        font-size: 0.9rem;
    }
    
    .form-control {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 0.9rem;
        transition: border-color 0.2s ease;
    }
    
    .form-control:focus {
        outline: none;
        border-color: #4f46e5;
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
    }
    
    .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.25rem;
        background: #f8fafc;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
        margin-bottom: 1rem;
        transition: all 0.2s ease;
    }
    
    .setting-item:hover {
        border-color: #4f46e5;
        box-shadow: 0 2px 8px rgba(79, 70, 229, 0.1);
    }
    
    .setting-info {
        flex: 1;
        margin-right: 1.5rem;
    }
    
    .setting-name {
        font-size: 1rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 0.25rem;
    }
    
    .setting-desc {
        color: #64748b;
        font-size: 0.85rem;
        line-height: 1.4;
    }
    
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 48px;
        height: 28px;
    }
    
    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    
    .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #cbd5e1;
        transition: .3s;
        border-radius: 28px;
    }
    
    .toggle-slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background: white;
        transition: .3s;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    input:checked + .toggle-slider {
        background-color: #4f46e5;
    }
    
    input:checked + .toggle-slider:before {
        transform: translateX(20px);
    }
    
    .btn {
        padding: 0.75rem 1.5rem;
        border-radius: 6px;
        font-weight: 500;
        font-size: 0.9rem;
        transition: all 0.2s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        border: none;
        cursor: pointer;
    }
    
    .btn-primary {
        background-color: #4f46e5;
        color: white;
        border: 1px solid #4f46e5;
    }
    
    .btn-primary:hover {
        background-color: #4338ca;
        border-color: #4338ca;
        color: white;
        text-decoration: none;
    }
    
    .btn-secondary {
        background-color: white;
        color: #374151;
        border: 1px solid #d1d5db;
    }
    
    .btn-secondary:hover {
        background-color: #f9fafb;
        border-color: #9ca3af;
        color: #374151;
        text-decoration: none;
    }
    
    .btn-danger {
        background-color: #ef4444;
        color: white;
        border: 1px solid #ef4444;
    }
    
    .btn-danger:hover {
        background-color: #dc2626;
        border-color: #dc2626;
        color: white;
        text-decoration: none;
    }
    
    .alert {
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1.5rem;
        border: 1px solid;
        font-size: 0.9rem;
    }
    
    .alert-info {
        background-color: rgba(79, 70, 229, 0.1);
        border-color: rgba(79, 70, 229, 0.2);
        color: #3730a3;
    }
    
    .alert-warning {
        background-color: rgba(245, 158, 11, 0.1);
        border-color: rgba(245, 158, 11, 0.2);
        color: #92400e;
    }
    
    .alert-danger {
        background-color: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.2);
        color: #991b1b;
    }
    
    .integration-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
    }
    
    .integration-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        transition: all 0.2s ease;
    }
    
    .integration-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .integration-header {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .integration-icon {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        color: white;
        font-size: 1.125rem;
    }
    
    .integration-info {
        flex: 1;
    }
    
    .integration-name {
        font-size: 1.125rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 0.25rem;
    }
    
    .integration-status {
        font-size: 0.8rem;
        font-weight: 500;
    }
    
    .integration-status.connected {
        color: #10b981;
    }
    
    .integration-status.disconnected {
        color: #ef4444;
    }
    
    .integration-desc {
        color: #64748b;
        font-size: 0.85rem;
        line-height: 1.4;
        margin-bottom: 1rem;
    }
    
    @media (max-width: 1024px) {
        .settings-layout {
            flex-direction: column;
            height: auto;
        }
        
        .settings-sidebar {
            width: auto;
            border-right: none;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .settings-nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
            padding: 1rem;
        }
        
        .nav-section {
            margin-bottom: 0;
        }
        
        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .kb-grid {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 640px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }
        
        .user-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
        }
        
        .setting-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-layout">
    <!-- 左侧导航栏 -->
    <div class="sidebar">
        <div class="sidebar-brand">
            <a href="{{ url_for('dashboard') }}">
                <div class="sidebar-brand-icon">
                    <img src="{{ url_for('static', filename='img/logo-icon.svg') }}" alt="Logo Icon" onerror="this.src='{{ url_for('static', filename='img/default-logo.png') }}'">
                </div>
                <div class="sidebar-brand-text">
                    <img src="{{ url_for('static', filename='img/logo-text.svg') }}" alt="Logo Text" onerror="this.src='{{ url_for('static', filename='img/default-logo-text.png') }}'">
                    <span>iDOC</span>
                </div>
            </a>
        </div>
        
        <!-- 导航菜单 -->
        <div class="sidebar-nav">
            <a href="{{ url_for('dashboard') }}" class="nav-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>仪表板</span>
            </a>
            
            <div class="nav-item" data-bs-toggle="collapse" data-bs-target="#collapseKnowledgeBase" aria-expanded="true">
                <i class="fas fa-book"></i>
                <span>企业知识库</span>
                <i class="fas fa-chevron-down ms-auto"></i>
            </div>
            <div class="collapse show" id="collapseKnowledgeBase">
                <a href="{{ url_for('knowledge_base') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-folder-open"></i>
                    <span>所有知识库</span>
                </a>
                <a href="{{ url_for('knowledge_base') }}?action=import" class="nav-item ms-4 py-2">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span>导入知识</span>
                </a>
                <a href="{{ url_for('knowledge_base') }}?action=settings" class="nav-item ms-4 py-2 active">
                    <i class="fas fa-cogs"></i>
                    <span>知识库设置</span>
                </a>
            </div>
            
            <div class="nav-item" data-bs-toggle="collapse" data-bs-target="#collapseDocuments" aria-expanded="false">
                <i class="fas fa-file-alt"></i>
                <span>文档管理</span>
                <i class="fas fa-chevron-down ms-auto"></i>
            </div>
            <div class="collapse" id="collapseDocuments">
                <a href="{{ url_for('documents_list') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-list"></i>
                    <span>所有文档</span>
                </a>
                <a href="{{ url_for('documents_list') }}?action=upload" class="nav-item ms-4 py-2">
                    <i class="fas fa-upload"></i>
                    <span>上传文档</span>
                </a>
                <a href="{{ url_for('documents_list') }}?action=recent" class="nav-item ms-4 py-2">
                    <i class="fas fa-clock"></i>
                    <span>最近文档</span>
                </a>
                <a href="{{ url_for('documents_list') }}?action=starred" class="nav-item ms-4 py-2">
                    <i class="fas fa-star"></i>
                    <span>星标文档</span>
                </a>
            </div>
            
            <div class="nav-item" data-bs-toggle="collapse" data-bs-target="#collapseWorkflow" aria-expanded="false">
                <i class="fas fa-project-diagram"></i>
                <span>工作流管理</span>
                <i class="fas fa-chevron-down ms-auto"></i>
            </div>
            <div class="collapse" id="collapseWorkflow">
                <a href="{{ url_for('workflow_create') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-plus"></i>
                    <span>创建工作流</span>
                </a>
                <a href="{{ url_for('workflow_create') }}?action=templates" class="nav-item ms-4 py-2">
                    <i class="fas fa-clipboard-list"></i>
                    <span>工作流模板</span>
                </a>
                <a href="{{ url_for('workflow_create') }}?action=running" class="nav-item ms-4 py-2">
                    <i class="fas fa-play-circle"></i>
                    <span>运行中工作流</span>
                </a>
                <a href="{{ url_for('workflow_create') }}?action=history" class="nav-item ms-4 py-2">
                    <i class="fas fa-history"></i>
                    <span>历史工作流</span>
                </a>
            </div>
            
            <div class="nav-item" data-bs-toggle="collapse" data-bs-target="#collapseAnalysis" aria-expanded="false">
                <i class="fas fa-chart-bar"></i>
                <span>AI分析</span>
                <i class="fas fa-chevron-down ms-auto"></i>
            </div>
            <div class="collapse" id="collapseAnalysis">
                <a href="{{ url_for('ai_analysis') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-search"></i>
                    <span>内容分析</span>
                </a>
                <a href="{{ url_for('ai_analysis') }}?action=compare" class="nav-item ms-4 py-2">
                    <i class="fas fa-not-equal"></i>
                    <span>文档对比</span>
                </a>
                <a href="{{ url_for('ai_analysis') }}?action=extract" class="nav-item ms-4 py-2">
                    <i class="fas fa-filter"></i>
                    <span>信息提取</span>
                </a>
                <a href="{{ url_for('ai_analysis') }}?action=summary" class="nav-item ms-4 py-2">
                    <i class="fas fa-compress-alt"></i>
                    <span>文档摘要</span>
                </a>
            </div>
            
            <div class="nav-item" data-bs-toggle="collapse" data-bs-target="#collapseAgent" aria-expanded="false">
                <i class="fas fa-robot"></i>
                <span>Agent Chat</span>
                <i class="fas fa-chevron-down ms-auto"></i>
            </div>
            <div class="collapse" id="collapseAgent">
                <a href="{{ url_for('agent_chat') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-comments"></i>
                    <span>新会话</span>
                </a>
                <a href="{{ url_for('agent_chat_history') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-history"></i>
                    <span>聊天历史</span>
                </a>
                <a href="{{ url_for('multi_agent_workshop') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-users-cog"></i>
                    <span>多Agent协作</span>
                </a>
                <a href="{{ url_for('agent_settings') }}" class="nav-item ms-4 py-2">
                    <i class="fas fa-sliders-h"></i>
                    <span>Agent设置</span>
                </a>
            </div>
            
            <div class="nav-section">用户</div>
            
            <a href="{{ url_for('account_settings') }}" class="nav-item">
                <i class="fas fa-user-cog"></i>
                <span>账户设置</span>
            </a>
            
            <a href="{{ url_for('notifications') }}" class="nav-item">
                <i class="fas fa-bell"></i>
                <span>通知</span>
                <span class="badge rounded-pill bg-primary ms-auto">3</span>
            </a>
            
            <a href="{{ url_for('logout') }}" class="nav-item">
                <i class="fas fa-sign-out-alt"></i>
                <span>退出登录</span>
            </a>
        </div>
    </div>
    
    <!-- 主要设置界面 -->
    <div class="main-content">
        <div class="settings-layout">
            <!-- 左侧设置导航 -->
            <div class="settings-sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">设置中心</h2>
                    <p class="sidebar-subtitle">管理和配置知识库系统的各项设置</p>
                </div>
                
                <div class="settings-nav">
                    <div class="nav-section">
                        <div class="nav-section-title">系统管理</div>
                        <button class="nav-item active" data-section="overview" onclick="showSection('overview')">
                            <i class="fas fa-chart-line"></i>
                            系统概览
                        </button>
                        <button class="nav-item" data-section="general" onclick="showSection('general')">
                            <i class="fas fa-cogs"></i>
                            常规设置
                        </button>
                        <button class="nav-item" data-section="knowledge" onclick="showSection('knowledge')">
                            <i class="fas fa-database"></i>
                            知识库管理
                        </button>
                    </div>
                    
                    <div class="nav-section">
                        <div class="nav-section-title">用户与权限</div>
                        <button class="nav-item" data-section="users" onclick="showSection('users')">
                            <i class="fas fa-users"></i>
                            用户管理
                        </button>
                        <button class="nav-item" data-section="permissions" onclick="showSection('permissions')">
                            <i class="fas fa-shield-alt"></i>
                            权限设置
                        </button>
                    </div>
                    
                    <div class="nav-section">
                        <div class="nav-section-title">数据与集成</div>
                        <button class="nav-item" data-section="backup" onclick="showSection('backup')">
                            <i class="fas fa-cloud-download-alt"></i>
                            备份归档
                        </button>
                        <button class="nav-item" data-section="integration" onclick="showSection('integration')">
                            <i class="fas fa-plug"></i>
                            系统集成
                        </button>
                    </div>
                    
                    <div class="nav-section">
                        <div class="nav-section-title">高级选项</div>
                        <button class="nav-item" data-section="security" onclick="showSection('security')">
                            <i class="fas fa-lock"></i>
                            安全设置
                        </button>
                        <button class="nav-item" data-section="advanced" onclick="showSection('advanced')">
                            <i class="fas fa-flask"></i>
                            高级功能
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 右侧内容区域 -->
            <div class="settings-main">
                <div class="main-header">
                    <h1 class="main-title" id="section-title">系统概览</h1>
                    <p class="main-subtitle" id="section-subtitle">查看知识库系统的整体运行状态和关键指标</p>
                </div>
                
                <div class="content-area">
                    <!-- 系统概览 -->
                    <div id="overview-section" class="content-section active">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-header">
                                    <div class="stat-title">知识库总数</div>
                                    <div class="stat-icon">
                                        <i class="fas fa-database"></i>
                                    </div>
                                </div>
                                <div class="stat-value">8</div>
                                <div class="stat-change">+2 本月新增</div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-header">
                                    <div class="stat-title">文档总数</div>
                                    <div class="stat-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                </div>
                                <div class="stat-value">1,247</div>
                                <div class="stat-change">+86 本周新增</div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-header">
                                    <div class="stat-title">存储使用</div>
                                    <div class="stat-icon">
                                        <i class="fas fa-hdd"></i>
                                    </div>
                                </div>
                                <div class="stat-value">2.4 GB</div>
                                <div class="stat-change">68% 已使用</div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-header">
                                    <div class="stat-title">活跃用户</div>
                                    <div class="stat-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                </div>
                                <div class="stat-value">24</div>
                                <div class="stat-change">+3 本周新增</div>
                            </div>
                        </div>
                        
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-heartbeat"></i>
                                    </div>
                                    <div class="card-name">系统健康状态</div>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                系统运行正常，所有服务状态良好。最近一次系统检查时间：今天 14:30
                            </div>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <div style="text-align: center; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: 600; color: #10b981;">99.9%</div>
                                    <div style="font-size: 0.85rem; color: #64748b;">系统可用性</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: 600; color: #10b981;">245ms</div>
                                    <div style="font-size: 0.85rem; color: #64748b;">平均响应时间</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: 600; color: #10b981;">0</div>
                                    <div style="font-size: 0.85rem; color: #64748b;">待处理错误</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 常规设置 -->
                    <div id="general-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-building"></i>
                                    </div>
                                    <div class="card-name">组织信息</div>
                                </div>
                                <div class="card-actions">
                                    <button class="btn btn-primary" onclick="saveGeneralSettings()">
                                        <i class="fas fa-save"></i>
                                        保存设置
                                    </button>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                <div class="form-group">
                                    <label class="form-label">组织名称</label>
                                    <input type="text" class="form-control" value="智能科技有限公司" placeholder="输入组织名称">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">系统语言</label>
                                    <select class="form-control">
                                        <option value="zh-CN" selected>简体中文</option>
                                        <option value="en-US">English</option>
                                        <option value="ja-JP">日本語</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-brain"></i>
                                    </div>
                                    <div class="card-name">智能功能</div>
                                </div>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">AI智能分类</div>
                                    <div class="setting-desc">自动对上传的文档进行智能分类和标记</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">全文搜索</div>
                                    <div class="setting-desc">启用强大的全文搜索和语义理解功能</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">版本控制</div>
                                    <div class="setting-desc">自动创建文档版本历史，支持版本对比</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 知识库管理 -->
                    <div id="knowledge-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-database"></i>
                                    </div>
                                    <div class="card-name">知识库列表</div>
                                </div>
                                <div class="card-actions">
                                    <button class="btn btn-secondary" onclick="createKnowledgeBase()">
                                        <i class="fas fa-plus"></i>
                                        新建知识库
                                    </button>
                                </div>
                            </div>
                            
                            <div class="kb-grid">
                                <div class="kb-card">
                                    <div class="kb-header">
                                        <div class="kb-icon">
                                            <i class="fas fa-gavel"></i>
                                        </div>
                                        <div class="kb-info">
                                            <div class="kb-name">企业法务知识库</div>
                                            <div class="kb-status active">活跃</div>
                                        </div>
                                    </div>
                                    <div class="kb-meta">
                                        <span>156 文档</span>
                                        <span>8 协作者</span>
                                        <span>2天前更新</span>
                                    </div>
                                    <div class="kb-actions">
                                        <a href="#" class="kb-action">编辑</a>
                                        <a href="#" class="kb-action">权限</a>
                                        <a href="#" class="kb-action">备份</a>
                                        <a href="#" class="kb-action danger" onclick="archiveKb('企业法务知识库')">归档</a>
                                    </div>
                                </div>
                                
                                <div class="kb-card">
                                    <div class="kb-header">
                                        <div class="kb-icon">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <div class="kb-info">
                                            <div class="kb-name">财务管理知识库</div>
                                            <div class="kb-status active">活跃</div>
                                        </div>
                                    </div>
                                    <div class="kb-meta">
                                        <span>89 文档</span>
                                        <span>5 协作者</span>
                                        <span>1周前更新</span>
                                    </div>
                                    <div class="kb-actions">
                                        <a href="#" class="kb-action">编辑</a>
                                        <a href="#" class="kb-action">权限</a>
                                        <a href="#" class="kb-action">备份</a>
                                        <a href="#" class="kb-action danger" onclick="archiveKb('财务管理知识库')">归档</a>
                                    </div>
                                </div>
                                
                                <div class="kb-card">
                                    <div class="kb-header">
                                        <div class="kb-icon">
                                            <i class="fas fa-users"></i>
                                        </div>
                                        <div class="kb-info">
                                            <div class="kb-name">人力资源知识库</div>
                                            <div class="kb-status active">活跃</div>
                                        </div>
                                    </div>
                                    <div class="kb-meta">
                                        <span>234 文档</span>
                                        <span>12 协作者</span>
                                        <span>3天前更新</span>
                                    </div>
                                    <div class="kb-actions">
                                        <a href="#" class="kb-action">编辑</a>
                                        <a href="#" class="kb-action">权限</a>
                                        <a href="#" class="kb-action">备份</a>
                                        <a href="#" class="kb-action danger" onclick="archiveKb('人力资源知识库')">归档</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 用户管理 -->
                    <div id="users-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div class="card-name">用户列表</div>
                                </div>
                                <div class="card-actions">
                                    <button class="btn btn-secondary" onclick="inviteUser()">
                                        <i class="fas fa-user-plus"></i>
                                        邀请用户
                                    </button>
                                </div>
                            </div>
                            
                            <div class="user-list">
                                <div class="user-item">
                                    <div class="user-info">
                                        <div class="user-avatar">张</div>
                                        <div class="user-details">
                                            <div class="user-name">张小明</div>
                                            <div class="user-email">zhang@company.com</div>
                                        </div>
                                        <div class="user-role admin">管理员</div>
                                    </div>
                                    <div class="user-actions">
                                        <button class="user-action" onclick="editUser('张小明')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="user-action">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="user-item">
                                    <div class="user-info">
                                        <div class="user-avatar">李</div>
                                        <div class="user-details">
                                            <div class="user-name">李小红</div>
                                            <div class="user-email">li@company.com</div>
                                        </div>
                                        <div class="user-role editor">编辑者</div>
                                    </div>
                                    <div class="user-actions">
                                        <button class="user-action" onclick="editUser('李小红')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="user-action">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                        <button class="user-action danger" onclick="removeUser('李小红')">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="user-item">
                                    <div class="user-info">
                                        <div class="user-avatar">王</div>
                                        <div class="user-details">
                                            <div class="user-name">王大力</div>
                                            <div class="user-email">wang@company.com</div>
                                        </div>
                                        <div class="user-role viewer">查看者</div>
                                    </div>
                                    <div class="user-actions">
                                        <button class="user-action" onclick="editUser('王大力')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="user-action">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                        <button class="user-action danger" onclick="removeUser('王大力')">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 权限设置 -->
                    <div id="permissions-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <div class="card-name">访问控制</div>
                                </div>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">两步验证</div>
                                    <div class="setting-desc">要求用户启用两步验证访问敏感知识库</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">访问日志</div>
                                    <div class="setting-desc">记录用户访问知识库的详细操作日志</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">IP地址限制</div>
                                    <div class="setting-desc">限制特定IP地址范围访问系统</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 备份归档 -->
                    <div id="backup-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-cloud-download-alt"></i>
                                    </div>
                                    <div class="card-name">自动备份</div>
                                </div>
                                <div class="card-actions">
                                    <button class="btn btn-primary" onclick="startBackup()">
                                        <i class="fas fa-download"></i>
                                        立即备份
                                    </button>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                下次自动备份时间：明天凌晨 2:00
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">启用自动备份</div>
                                    <div class="setting-desc">按设定频率自动备份所有知识库数据</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
                                <div class="form-group">
                                    <label class="form-label">备份频率</label>
                                    <select class="form-control">
                                        <option value="daily" selected>每日备份</option>
                                        <option value="weekly">每周备份</option>
                                        <option value="monthly">每月备份</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">保留期限</label>
                                    <select class="form-control">
                                        <option value="7">7天</option>
                                        <option value="30" selected>30天</option>
                                        <option value="90">90天</option>
                                        <option value="365">1年</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 系统集成 -->
                    <div id="integration-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-plug"></i>
                                    </div>
                                    <div class="card-name">第三方集成</div>
                                </div>
                            </div>
                            
                            <div class="integration-grid">
                                <div class="integration-card">
                                    <div class="integration-header">
                                        <div class="integration-icon" style="background-color: #0052cc;">
                                            <i class="fab fa-confluence"></i>
                                        </div>
                                        <div class="integration-info">
                                            <div class="integration-name">Confluence</div>
                                            <div class="integration-status disconnected">未连接</div>
                                        </div>
                                    </div>
                                    <div class="integration-desc">同步Confluence空间和页面内容到知识库</div>
                                    <button class="btn btn-secondary" onclick="connectIntegration('confluence')" style="width: 100%;">
                                        <i class="fas fa-link"></i>
                                        连接
                                    </button>
                                </div>
                                
                                <div class="integration-card">
                                    <div class="integration-header">
                                        <div class="integration-icon" style="background-color: #4285f4;">
                                            <i class="fab fa-google-drive"></i>
                                        </div>
                                        <div class="integration-info">
                                            <div class="integration-name">Google Drive</div>
                                            <div class="integration-status connected">已连接</div>
                                        </div>
                                    </div>
                                    <div class="integration-desc">自动同步Google Drive中的文档内容</div>
                                    <button class="btn btn-danger" onclick="disconnectIntegration('google-drive')" style="width: 100%;">
                                        <i class="fas fa-unlink"></i>
                                        断开连接
                                    </button>
                                </div>
                                
                                <div class="integration-card">
                                    <div class="integration-header">
                                        <div class="integration-icon" style="background-color: #000;">
                                            <i style="font-weight: 700;">N</i>
                                        </div>
                                        <div class="integration-info">
                                            <div class="integration-name">Notion</div>
                                            <div class="integration-status disconnected">未连接</div>
                                        </div>
                                    </div>
                                    <div class="integration-desc">导入Notion数据库和页面内容</div>
                                    <button class="btn btn-secondary" onclick="connectIntegration('notion')" style="width: 100%;">
                                        <i class="fas fa-link"></i>
                                        连接
                                    </button>
                                </div>
                                
                                <div class="integration-card">
                                    <div class="integration-header">
                                        <div class="integration-icon" style="background-color: #611f69;">
                                            <i class="fab fa-slack"></i>
                                        </div>
                                        <div class="integration-info">
                                            <div class="integration-name">Slack</div>
                                            <div class="integration-status disconnected">未连接</div>
                                        </div>
                                    </div>
                                    <div class="integration-desc">从Slack频道导入重要对话记录</div>
                                    <button class="btn btn-secondary" onclick="connectIntegration('slack')" style="width: 100%;">
                                        <i class="fas fa-link"></i>
                                        连接
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 安全设置 -->
                    <div id="security-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <div class="card-name">安全策略</div>
                                </div>
                            </div>
                            
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                修改安全设置可能影响系统访问，请谨慎操作
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">强制密码策略</div>
                                    <div class="setting-desc">要求用户使用复杂密码</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">会话超时</div>
                                    <div class="setting-desc">用户长时间无操作自动退出</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">数据加密传输</div>
                                    <div class="setting-desc">强制使用HTTPS加密传输</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 高级功能 -->
                    <div id="advanced-section" class="content-section">
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-flask"></i>
                                    </div>
                                    <div class="card-name">实验性功能</div>
                                </div>
                            </div>
                            
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                实验性功能可能不稳定，请谨慎在生产环境中使用
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">智能问答</div>
                                    <div class="setting-desc">基于知识库内容的AI问答功能</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">自动标签</div>
                                    <div class="setting-desc">AI自动为文档添加相关标签</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">内容推荐</div>
                                    <div class="setting-desc">根据用户行为推荐相关文档</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="settings-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-icon">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="card-name">危险操作</div>
                                </div>
                            </div>
                            
                            <div class="alert alert-danger">
                                <i class="fas fa-exclamation-triangle"></i>
                                以下操作不可逆转，请谨慎执行
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">重置所有设置</div>
                                    <div class="setting-desc">将所有配置恢复到默认状态</div>
                                </div>
                                <button class="btn btn-danger" onclick="resetAllSettings()">
                                    <i class="fas fa-undo"></i>
                                    重置
                                </button>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <div class="setting-name">清空所有数据</div>
                                    <div class="setting-desc">删除所有知识库和文档数据</div>
                                </div>
                                <button class="btn btn-danger" onclick="clearAllData()">
                                    <i class="fas fa-trash"></i>
                                    清空数据
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function showSection(sectionId) {
        // 更新导航状态
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
        });
        document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
        
        // 更新内容区域
        document.querySelectorAll('.content-section').forEach(section => {
            section.classList.remove('active');
        });
        document.getElementById(`${sectionId}-section`).classList.add('active');
        
        // 更新标题
        const titles = {
            'overview': ['系统概览', '查看知识库系统的整体运行状态和关键指标'],
            'general': ['常规设置', '配置系统的基本参数和智能功能选项'],
            'knowledge': ['知识库管理', '管理所有知识库的状态、权限和操作'],
            'users': ['用户管理', '管理系统用户的账户和访问权限'],
            'permissions': ['权限设置', '配置用户访问控制和安全策略'],
            'backup': ['备份归档', '设置自动备份策略和数据归档规则'],
            'integration': ['系统集成', '配置第三方平台集成和数据同步'],
            'security': ['安全设置', '管理系统安全策略和访问控制'],
            'advanced': ['高级功能', '启用实验性功能和危险操作选项']
        };
        
        if (titles[sectionId]) {
            document.getElementById('section-title').textContent = titles[sectionId][0];
            document.getElementById('section-subtitle').textContent = titles[sectionId][1];
        }
    }
    
    // 各种操作函数
    function saveGeneralSettings() {
        alert('常规设置已保存');
    }
    
    function createKnowledgeBase() {
        alert('创建新知识库功能开发中');
    }
    
    function archiveKb(name) {
        if (confirm(`确定要归档"${name}"吗？`)) {
            alert(`知识库"${name}"已归档`);
        }
    }
    
    function inviteUser() {
        alert('邀请用户功能开发中');
    }
    
    function editUser(name) {
        alert(`编辑用户"${name}"的设置`);
    }
    
    function removeUser(name) {
        if (confirm(`确定要移除用户"${name}"吗？`)) {
            alert(`用户"${name}"已移除`);
        }
    }
    
    function startBackup() {
        alert('备份任务已启动，完成后将发送通知');
    }
    
    function connectIntegration(service) {
        alert(`正在连接 ${service}，请稍候...`);
    }
    
    function disconnectIntegration(service) {
        if (confirm(`确定要断开与 ${service} 的连接吗？`)) {
            alert(`已断开与 ${service} 的连接`);
        }
    }
    
    function resetAllSettings() {
        if (confirm('确定要重置所有设置吗？此操作不可恢复。')) {
            alert('所有设置已重置');
        }
    }
    
    function clearAllData() {
        if (confirm('确定要清空所有数据吗？此操作不可恢复。')) {
            alert('所有数据已清空');
        }
    }
</script>
{% endblock %}